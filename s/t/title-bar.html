<div class="row">
  <h3
    {% if not card %}
    hx-get="/de/{{deckid}}"
    {% else %}
    hx-get="/ce/{{card.cardid}}"
    {% endif %}
    hx-target="this"
    hx-swap="outerHTML"
    hx-trigger="click"
    class="page-title col">{{title}}</h3>
  <input type="search" placeholder="Search" class="col-3"></input>
</div>

<div id="key-listener"
    @keyup.shift.d.document="if($event.target.localName==='body'){$refs.newdeck.click()}"
    @keyup.shift.c.document="if($event.target.localName==='body'){$refs.newcard.click()}"
    @keyup.shift.t.document="if($event.target.localName==='body'){$refs.transclude.click()}"
></div>
<button
  id="new-deck"
  x-ref="newdeck"
  hx-post="/new-deck" hx-swap="none"
  class=""
>
  New Deck
</button>
<button
  id="new-card"
  x-ref="newcard"
  {% if deck %}
  hx-post="/new-card" hx-target="#cards" hx-swap="afterbegin" class=""
  {% else %}
  hx-post="/new-card" hx-swap="none"
  {% endif %}
>
  New Card
</button>
<button
  id="transclude-card"
  x-ref="transclude"
  hx-post="/transclude/{{deckid}}"
  hx-target="#cards"
  hx-swap="afterbegin"
>
  Transclude
</button>
